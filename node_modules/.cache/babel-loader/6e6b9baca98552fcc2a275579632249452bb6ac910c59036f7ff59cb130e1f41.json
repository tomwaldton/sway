{"ast":null,"code":"import'./styles.css';import React,{useState,useRef,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const initialStats={STR:0,INT:0,DED:0,CHA:0,AGI:0};const armourOptions=[{value:'none',label:'None',armour:0,agi:+2},{value:'light',label:'Light',armour:2,agi:0},{value:'medium',label:'Medium',armour:4,agi:-2},{value:'heavy',label:'Heavy',armour:8,agi:-4}];const skills=[{id:1,name:'1.Smelly',description:'Gain a free action to make a model, not engaged, within 4 inches do a dedication test. if failed, instantly move that model a full move directly away from this model. -4 charm.',modifiers:{STR:0,INT:0,DED:0,CHA:-4,AGI:0}},{id:2,name:'2.Slippery',description:'Model always succeeds on a Flee and has -4 to get hit in close combat. But due to bad friction,  -4 agility.',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:-4}},{id:3,name:'3.Scared',description:'Weak nerves but fast! -4 dedication and +4 agility.',modifiers:{STR:0,INT:0,DED:-4,CHA:0,AGI:4}},{id:4,name:'4.Thug',description:\"Swelling biceps but can't count or tie your shoelaces. +4 strength and -4 intelligence.\",modifiers:{STR:4,INT:-4,DED:0,CHA:0,AGI:0}},{id:5,name:'5.Vampire',description:'Each time this model kills, get +2 on all stats. After third kill, model goes frenzy. In Frenzy it must always move, or run, and fight the closest model in melee. Resets at the end of the scenario.',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{id:6,name:'6.Translucent',description:'Other models get -4 to hit this model on ranged attacks. Also, this model always succeeds to hide. But due to trouble communicating, -8 charm.',modifiers:{STR:0,INT:0,DED:0,CHA:-8,AGI:0}},{id:7,name:'7.Leather face',description:'Lack of sunscreen has made this model’s face impenetrable. Cannot do a flirt action, but gain +1 armour.',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{id:8,name:'8.Scissor hands',description:'This model’s None/improvised attacks cannot be modified by opponents’ armour and power becomes 0 instead of normal penalty. But cannot equip or carry any weapon.',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{id:9,name:'9.Swindler',description:'Player always gains double the money after scenario. But all money can only be spent on this model, and nothing can ever be traded. +2 charm and +2 intelligence.',modifiers:{STR:0,INT:4,DED:0,CHA:4,AGI:0}},{id:10,name:'10.Clumsy',description:'When this skill is gained, roll immediately on the injury table. +4 charm.',modifiers:{STR:0,INT:0,DED:0,CHA:4,AGI:0}},{id:11,name:'11.Brainwashed',description:'This model has seen the light. Immune to convince action, -4 intelligence and +4 dedication.',modifiers:{STR:0,INT:-4,DED:4,CHA:0,AGI:0}},{id:12,name:'12.Bookworm',description:'In theory, this model has seen many battles. +4 intelligence, but -2 to agility and -2 strength.',modifiers:{STR:-2,INT:4,DED:0,CHA:0,AGI:-2}},{id:13,name:'13.Sticky',description:'Model can run up terrain without any movement penalty, but can never remove equipped weapons.',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{id:14,name:'14.Railed',description:'Double movement! Must always move full in a straight line. If wanting to stop or turn, roll a dedication test. If failed, the model keeps going in the same direction and can only be stopped by structures or models over 2”.',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{id:15,name:'15.Infiltrator',description:'Model can choose to start the scenario on the opponent’s side, but cannot start base to base with anyone. Roll a charm test. On a fail, the model has been found out and killed before the scenario started. Roll on the injury table.',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{id:16,name:'16.Zombie',description:'If killed, roll injury but do not remove the model. It cannot activate the same round and gets play dead status. Then activates as normally the round after (Unless the injury roll was a 1). -8 on all stats.',modifiers:{STR:-8,INT:-8,DED:-8,CHA:-8,AGI:-8}},{id:17,name:'17.Bland',description:'Utterly boring! This model’s stats are now all zero. This is your new base; delete your values set at creation. Additional modifiers still apply.',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{id:18,name:'18.Radiant',description:'Always succeed on flirt actions. Always fail on Hide actions. +4 charm.',modifiers:{STR:0,INT:0,DED:0,CHA:4,AGI:0}},{id:19,name:'19.Enraged',description:'No penalty to dual wielding. But -4 to succeed with all rolls except kill rolls and can never flee. +4 strength.',modifiers:{STR:4,INT:0,DED:0,CHA:0,AGI:0}},{id:20,name:'20.The legend',description:'If this model ever rolls a crit or fumble, thE character instantly disappears mysteriously (perma dead), before any action is carried out. +8 to all base stats.',modifiers:{STR:8,INT:8,DED:8,CHA:8,AGI:8}}];const weapons=[{id:1,name:'None melee',description:'[Ded]  Power -8',modifiers:{AGI:0}},{id:2,name:'Light melee',description:'[Agi]  Power -2',modifiers:{AGI:0}},{id:3,name:'Medium melee',description:'[Str]  Power +2',modifiers:{AGI:-2}},{id:4,name:'Heavy melee',description:'[Str]  Power +6',modifiers:{AGI:-4}},{id:5,name:'None ranged',description:'[Ded]  Power -8  Range: 6”',modifiers:{AGI:0}},{id:6,name:'Short ranged',description:'[Agi]  Power -2  Range:12”',modifiers:{AGI:0}},{id:7,name:'Medium ranged',description:'[Agi]  Power +2  Range:18”',modifiers:{AGI:-2}},{id:8,name:'Long ranged',description:'[Int]  power +4  Range:24”',modifiers:{AGI:-4}},{id:9,name:'Artillery',description:'[Int]  power +6  Range:30”',modifiers:{AGI:-8}}];const upgradeOptions=['None','Fire','Lightning','Poison'];const accessoryOptions=[{name:'None',description:'',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{name:'Book of belief',description:'If killed, roll a d20. on a 20: This tiny book was miraculously placed where the hit struck. The book is destroyed permanently, but the model is saved.',modifiers:{STR:0,INT:0,DED:0,CHA:4,AGI:0}},{name:'Nice hat',description:'Dashing and stylish, +4 charm. Lost permanently if leaping, falling or pushed.',modifiers:{STR:0,INT:0,DED:0,CHA:4,AGI:0}},{name:'Ergonomic chair',description:'Ugly but comfortable +4 intelligence, -4 agility and -4 charm. Cannot double move.',modifiers:{STR:0,INT:+4,DED:0,CHA:-4,AGI:-4}},{name:'Glass eye',description:'Can detect hidden figures. But in return get bad depth perception and -4 to hit on all shoot and fight rolls.',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{name:'Cool tattoo',description:'a +4 dedication, but the vanity makes all flirt actions automatically succeed on this character.',modifiers:{STR:0,INT:0,DED:+4,CHA:0,AGI:0}},{name:'Big buckle',description:\"a +4 strength, but -4 agility because you can't feel your legs.\",modifiers:{STR:+4,INT:0,DED:0,CHA:0,AGI:-4}},{name:'Stilts',description:'model always move 3” in a straight line, regardless of move. but also counts all falls as extra +2”',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{name:'“New” underwear',description:'a +1 dedication -1 charm. Sale now 75% reduced price. Only 10 credits!',modifiers:{STR:0,INT:0,DED:+1,CHA:-1,AGI:0}}];const itemOptions=[{name:'None',description:'',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{name:'Yeasty drink',description:'[Ded] +4 armour, but -4 intelligence.',modifiers:{STR:0,INT:-4,DED:0,CHA:0,AGI:0,ARMOUR:4}},{name:'Smell well water',description:'[Cha] +4 on charm rolls, unable to get the hidden.',modifiers:{STR:0,INT:0,DED:0,CHA:4,AGI:0}},{name:'Rabid stew',description:'[Ded]  +4 strength, but -4 charm and can never flee.',modifiers:{STR:4,INT:0,DED:0,CHA:-4,AGI:0}},{name:'Never-stop pill',description:'[Ded] +2 to all stats but roll more injury on model (see in depth)',modifiers:{STR:2,INT:2,DED:2,CHA:2,AGI:2}},{name:'Teleporta bello',description:'[Int] teleport to any point seen within 20”. (see in depth)',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{name:'Detox',description:'[Int] Remove the poison condition.',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{name:'Eek ink',description:'[agi] target must pass a [ded] or blindly run away (see in depth)',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}},{name:'Airy Berry',description:'[Int] target becomes airborne until next activation (see in depth)',modifiers:{STR:0,INT:0,DED:0,CHA:0,AGI:0}}];const gearCosts={'Book of belief':40,'Nice hat':40,'Ergonomic chair':40,'Glass eye':40,'Cool tattoo':40,'Big buckle':40,'Stilts':40,'“New” underwear':10,'Yeasty drink':40,'Smell well water':40,'Rabid stew':40,'Never-stop pill':40,'Teleporta bello':40,'Detox':40,'Eek ink':40,'Airy Berry':40,'Light':20,'Medium':40,'Heavy':80,'Light melee':30,'Medium melee':40,'Heavy melee':50,'Short ranged':30,'Medium ranged':40,'Long ranged':50,'Artillery':80,'Fire':30,'Lightning':30,'Poison':30};const CharacterSheet=_ref=>{let{character,calculateCostForCharacter}=_ref;const stats=character.stats;return/*#__PURE__*/_jsxs(\"div\",{className:\"character-sheet-print\",children:[/*#__PURE__*/_jsx(\"h2\",{children:character.name||\"Unnamed\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Level: \",character.level]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cost: \",calculateCostForCharacter(character)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"STR: \",stats.STR,\", INT: \",stats.INT,\", DED: \",stats.DED,\", CHA: \",stats.CHA,\", AGI: \",stats.AGI]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Primary Skill: \",character.primarySkill]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Secondary Skill: \",character.secondarySkill]})]});};const TeamOverview=_ref2=>{let{teamName,characters,teamCredits,teamNotes,calculateCostForCharacter,totalTeamCost}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"team-overview-print border p-4 w-[260mm] max-w-[260mm]\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Team: \",teamName]}),characters.map((char,i)=>/*#__PURE__*/_jsxs(\"p\",{children:[char.name||`Character ${i+1}`,\": \",calculateCostForCharacter(char),\" pts\"]},i)),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",totalTeamCost(),\" / \",teamCredits]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Remaining: \",teamCredits-totalTeamCost()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Notes: \",teamNotes]})]});};export default function App(){const characterScrollRef=useRef(null);const[canScrollLeft,setCanScrollLeft]=useState(false);const[canScrollRight,setCanScrollRight]=useState(false);// Detect scroll availability\nuseEffect(()=>{const el=characterScrollRef.current;if(!el)return;const handleScroll=()=>{setCanScrollLeft(el.scrollLeft>0);setCanScrollRight(el.scrollLeft+el.clientWidth<el.scrollWidth);};handleScroll();// run once on mount\nel.addEventListener('scroll',handleScroll);window.addEventListener('resize',handleScroll);return()=>{el.removeEventListener('scroll',handleScroll);window.removeEventListener('resize',handleScroll);};},[]);// Enable mouse wheel horizontal scroll\nuseEffect(()=>{const el=characterScrollRef.current;if(!el)return;const handleWheel=e=>{if(e.deltaY!==0){e.preventDefault();el.scrollBy({left:e.deltaY*3,behavior:'smooth'});}};el.addEventListener('wheel',handleWheel,{passive:false});return()=>el.removeEventListener('wheel',handleWheel);},[]);const characterCount=4;const[index,setindex]=useState(0);const[teamName,setTeamName]=useState('');const[teamCredits,setTeamCredits]=useState(500);const[teamNotes,setTeamNotes]=useState('');const calculateCostForCharacter=char=>{var _weapons$find,_weapons$find2;let total=0;const selectedArmour=armourOptions.find(a=>a.value===char.armourType);const armourLabel=selectedArmour===null||selectedArmour===void 0?void 0:selectedArmour.label;if(gearCosts[armourLabel])total+=gearCosts[armourLabel];const weaponLeftName=((_weapons$find=weapons.find(w=>w.id.toString()===char.weaponLeft))===null||_weapons$find===void 0?void 0:_weapons$find.name)||'';const weaponRightName=((_weapons$find2=weapons.find(w=>w.id.toString()===char.weaponRight))===null||_weapons$find2===void 0?void 0:_weapons$find2.name)||'';Object.entries(gearCosts).forEach(_ref3=>{let[label,cost]=_ref3;if(weaponLeftName.includes(label))total+=cost;if(weaponRightName.includes(label))total+=cost;});if(gearCosts[char.upgradeLeft])total+=gearCosts[char.upgradeLeft];if(gearCosts[char.upgradeRight])total+=gearCosts[char.upgradeRight];char.items.forEach(item=>{if(gearCosts[item])total+=gearCosts[item];});if(gearCosts[char.accessory])total+=gearCosts[char.accessory];return total;};const totalTeamCost=()=>characters.reduce((sum,char)=>sum+calculateCostForCharacter(char),0);const[characters,setCharacters]=useState(Array.from({length:characterCount},()=>({name:'',stats:{...initialStats},primarySkill:'',secondarySkill:'',notes:'',armourType:'none',weaponLeft:'',weaponRight:'',upgradeLeft:'None',upgradeRight:'None',items:['','',''],usedItems:[false,false,false],accessory:'',injuries:['','','','',''],level:0})));const updateCharacter=(field,value)=>{setCharacters(prev=>{const updated=[...prev];const character={...updated[activeCharacterIndex]};if(typeof value===\"object\"&&!Array.isArray(value)){// Merge objects (e.g., items, stats)\ncharacter[field]={...character[field],...value};}else{// Direct field replacement\ncharacter[field]=value;}updated[activeCharacterIndex]=character;return updated;});};const updateStat=(key,value)=>{const num=parseInt(value,10);const clamped=Math.max(-10,Math.min(10,isNaN(num)?0:num));setCharacters(prev=>{const updated=[...prev];updated[index]={...updated[index],stats:{...updated[index].stats,[key]:clamped}};return updated;});};const[cost,setCost]=useState(0);// Placeholder for future logic\nconst getModifiersForCharacter=character=>{var _skills$find,_skills$find2,_weapons$find3,_weapons$find4,_accessoryOptions$fin;const primary=((_skills$find=skills.find(s=>s.id.toString()===character.primarySkill))===null||_skills$find===void 0?void 0:_skills$find.modifiers)||{};const secondary=((_skills$find2=skills.find(s=>s.id.toString()===character.secondarySkill))===null||_skills$find2===void 0?void 0:_skills$find2.modifiers)||{};const weaponL=((_weapons$find3=weapons.find(w=>w.id.toString()===character.weaponLeft))===null||_weapons$find3===void 0?void 0:_weapons$find3.modifiers)||{};const weaponR=((_weapons$find4=weapons.find(w=>w.id.toString()===character.weaponRight))===null||_weapons$find4===void 0?void 0:_weapons$find4.modifiers)||{};const accMod=((_accessoryOptions$fin=accessoryOptions.find(a=>a.name===character.accessory))===null||_accessoryOptions$fin===void 0?void 0:_accessoryOptions$fin.modifiers)||{};const itemMods=character.items.map((itemName,idx)=>{const item=itemOptions.find(opt=>opt.name===itemName);return character.usedItems[idx]?(item===null||item===void 0?void 0:item.modifiers)||{}:{STR:0,INT:0,DED:0,CHA:0,AGI:0};});const injuryMod={STR:0,INT:0,DED:0,CHA:0,AGI:0};let isDead=false;character.injuries.forEach(val=>{if(!val)return;if(val===1)isDead=true;else if(val>=2&&val<=5)injuryMod.AGI-=1;else if(val>=6&&val<=9)injuryMod.STR-=1;else if(val>=10&&val<=13)injuryMod.INT-=1;else if(val>=14&&val<=17)injuryMod.DED-=1;else if(val>=18&&val<=19)injuryMod.CHA-=1;else if(val===20)injuryMod.CHA+=1;});const selectedArmour=armourOptions.find(a=>a.value===character.armourType);let acc=Object.keys(initialStats).reduce((acc,key)=>{const armourMod=key==='AGI'?(selectedArmour===null||selectedArmour===void 0?void 0:selectedArmour.agi)||0:0;const weaponMod=key==='AGI'?(weaponL.AGI||0)+(weaponR.AGI||0):0;const itemTotal=itemMods.reduce((sum,mod)=>sum+(mod[key]||0),0);acc[key]=(primary[key]||0)+(secondary[key]||0)+armourMod+weaponMod+itemTotal+(accMod[key]||0)+(injuryMod[key]||0);return acc;},isDead?{_DEAD:true}:{});const totalArmourBonus=itemMods.reduce((sum,mod)=>sum+(mod.ARMOUR||0),0);acc.ARMOUR=totalArmourBonus;return acc;};const getSkillDescription=id=>{const skill=skills.find(s=>s.id.toString()===id);return skill?skill.description:'';};const calculateMoveForCharacter=character=>{const baseAGI=character.stats.AGI||0;const modAGI=getModifiersForCharacter(character).AGI||0;return 5+Math.floor((baseAGI+modAGI)/2);};// RENDER things below!\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"print-only-character-sheet flex h-screen overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-column w-[500px] p-4 border-r\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-auto \",children:/*#__PURE__*/_jsx(\"img\",{src:\"/logoplaceholder.png\",alt:\"Team Logo\",className:\"w-full h-auto object-contain\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center font-bold mb-2\",children:\"Team Overview\"}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full p-2 border rounded mb-2\",value:teamName,onChange:e=>setTeamName(e.target.value),placeholder:\"Team Name\"}),characters.map((char,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:char.name||`Character ${i+1}`}),/*#__PURE__*/_jsx(\"span\",{children:calculateCostForCharacter(char)})]},i)),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex justify-end items-center gap-2 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"Credits\"}),/*#__PURE__*/_jsx(\"input\",{className:\"p-1 border rounded w-20 text-right\",type:\"number\",value:teamCredits,onChange:e=>setTeamCredits(Number(e.target.value))}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"Unspent\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 border rounded bg-white text-right w-16\",children:teamCredits-totalTeamCost()})]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full h-[310px] mt-2 p-2 border rounded\",rows:\"4\",placeholder:\"Notes...\",value:teamNotes,onChange:e=>setTeamNotes(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-4 w-full bg-red-300 header-text py-3 rounded shadow\",onClick:()=>window.print(),children:\"Print Team\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-2 w-full bg-yellow-300 header-text py-3 rounded shadow\",onClick:()=>{const data={teamName,teamCredits,teamNotes,characters};const blob=new Blob([JSON.stringify(data,null,2)],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=`${teamName||'my_team'}.json`;a.click();URL.revokeObjectURL(url);},children:\"Download Team\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"mt-2 w-full bg-orange-300 header-text py-3 rounded shadow text-center cursor-pointer block\",children:[\"Load Team\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".json\",onChange:e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!file)return;const reader=new FileReader();reader.onload=event=>{try{const data=JSON.parse(event.target.result);if(typeof data.teamName==='string'&&typeof data.teamCredits==='number'&&Array.isArray(data.characters)){setTeamName(data.teamName);setTeamCredits(data.teamCredits);setTeamNotes(data.teamNotes||'');setCharacters(data.characters);}else{alert('Invalid team file');}}catch(err){alert('Could not load file');}};reader.readAsText(file);},className:\"hidden\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{ref:characterScrollRef,className:\"character-sheet-area flex-1 relative overflow-x-auto\",style:{overflowY:'hidden'},children:[canScrollLeft&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>characterScrollRef.current.scrollBy({left:-2000,behavior:'smooth'}),className:\"fixed left-[510px] top-1/2 transform -translate-y-1/2 z-50 rounded-md p-2 bg-black hover:bg-black/50 transition\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-2xl font-bold\",children:\"\\u25C4\"})}),canScrollRight&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>characterScrollRef.current.scrollBy({left:2000,behavior:'smooth'}),className:\"fixed right-4 top-1/2 transform -translate-y-1/2 z-50 rounded-md p-2 bg-black hover:bg-black/50 transition\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-2xl font-bold\",children:\"\\u25BA\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex min-h-screen w-max gap-3 p-4\",children:characters.map((char,charIndex)=>{var _armourOptions$find,_accessoryOptions$fin2;const stats=char.stats;const modifiers=getModifiersForCharacter(char);return/*#__PURE__*/_jsxs(\"div\",{className:\"character-sheet-print relative p-4 w-[500px] border rounded shadow bg-white flex-shrink-0\",children:[modifiers._DEAD&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex flex-col items-center justify-center pointer-events-none\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl text-red-600 font-extrabold drop-shadow-lg\",children:\"DEAD\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-end\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex-1 header-text\",children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{className:\"block w-full border p-2 rounded mt-1 input-text\",value:char.name,onChange:e=>setCharacters(prev=>{const updated=[...prev];updated[charIndex].name=e.target.value;return updated;})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-text\",children:\"Move\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 border rounded text-center input-text\",children:calculateMoveForCharacter(char)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between gap-2 mt-2\",children:Object.keys(stats).map(key=>{const modifier=getModifiersForCharacter(char)[key]||0;return/*#__PURE__*/_jsxs(\"label\",{className:\"w-[90px] header-text\",children:[key,\":\",/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"block w-full border p-2 rounded text-center font-mono bg-white\",style:{pointerEvents:'none'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm input-text\",children:[char.stats[key],modifier!==0&&/*#__PURE__*/_jsx(\"span\",{className:`ml-1 ${modifier>0?'text-green-600':'text-red-600'}`,children:modifier>0?`+${modifier}`:modifier})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold leading-tight\",children:char.stats[key]+(modifier||0)})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"absolute inset-0 w-full h-full text-transparent caret-transparent bg-transparent border-none\",value:char.stats[key],onChange:e=>{setCharacters(prev=>{const updated=[...prev];const val=parseInt(e.target.value,10);updated[charIndex].stats[key]=isNaN(val)?0:Math.max(-10,Math.min(10,val));setCharacters(updated);return updated;});},min:\"-10\",max:\"10\",style:{WebkitAppearance:'number-input',MozAppearance:'number-input',appearance:'number-input'}})]})})]},key);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-start mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex-1 header-text\",children:[\"Primary Skill:\",/*#__PURE__*/_jsxs(\"select\",{className:\"block w-full border p-2 rounded input-text\",value:char.primarySkill,onChange:e=>{const updatedCharacters=[...characters];updatedCharacters[charIndex].primarySkill=e.target.value;setCharacters(updatedCharacters);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Skill\"}),skills.map(skill=>/*#__PURE__*/_jsx(\"option\",{value:skill.id,children:skill.name},skill.id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"description-text mt-1 w-full border rounded p-2\",style:{height:'165px'},children:getSkillDescription(char.primarySkill)||''})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex-1 header-text\",children:[\"Secondary Skill:\",/*#__PURE__*/_jsxs(\"select\",{className:\"block w-full border p-2 rounded input-text\",value:char.secondarySkill,onChange:e=>{const updatedCharacters=[...characters];updatedCharacters[charIndex].secondarySkill=e.target.value;setCharacters(updatedCharacters);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Skill\"}),skills.map(skill=>/*#__PURE__*/_jsx(\"option\",{value:skill.id,children:skill.name},skill.id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"description-text mt-1 w-full border rounded p-2\",style:{height:'165px'},children:getSkillDescription(char.secondarySkill)||''})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1/5\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"block mb-2 header-text\",children:[\"Armour:\",/*#__PURE__*/_jsx(\"select\",{className:\"block w-full border p-2 rounded mt-1 input-text\",value:char.armourType,onChange:e=>{const updatedCharacters=[...characters];updatedCharacters[charIndex].armourType=e.target.value;setCharacters(updatedCharacters);},children:armourOptions.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt.value,children:opt.label},opt.value))}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-center mt-1 font-bold\",children:[((_armourOptions$find=armourOptions.find(a=>a.value===char.armourType))===null||_armourOptions$find===void 0?void 0:_armourOptions$find.armour)||0,getModifiersForCharacter(char).ARMOUR!==0&&/*#__PURE__*/_jsx(\"span\",{className:getModifiersForCharacter(char).ARMOUR>0?'text-green-600':'text-red-600',children:getModifiersForCharacter(char).ARMOUR>0?`+${getModifiersForCharacter(char).ARMOUR}`:getModifiersForCharacter(char).ARMOUR})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-0 mt-2\",children:[\"Right\",\"Left\"].map((hand,idx)=>{const weaponKey=hand===\"Right\"?\"weaponRight\":\"weaponLeft\";const upgradeKey=hand===\"Right\"?\"upgradeRight\":\"upgradeLeft\";const selected=char[weaponKey];const upgrade=char[upgradeKey];const weapon=weapons.find(w=>w.id.toString()===selected);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"block header-text\",children:[hand,\" Hand Weapon:\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"block header-text\",children:\"Upgrade:\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-start\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"w-[150px] border p-2 rounded input-text\",value:selected,onChange:e=>{setCharacters(prev=>{const updated=[...prev];updated[charIndex][weaponKey]=e.target.value;return updated;});},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Weapon\"}),weapons.map(w=>/*#__PURE__*/_jsx(\"option\",{value:w.id,children:w.name},w.id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 input-text border rounded p-2 whitespace-nowrap overflow-hidden text-ellipsis\",style:{height:'39px'},children:(weapon===null||weapon===void 0?void 0:weapon.description)||''}),/*#__PURE__*/_jsx(\"select\",{className:\"w-30 border p-2 rounded input-text\",value:upgrade,onChange:e=>{setCharacters(prev=>{const updated=[...prev];updated[charIndex][upgradeKey]=e.target.value;return updated;});},children:upgradeOptions.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt,children:opt},opt))})]})]},idx);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-[1_1_60%]\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"block header-text mb-1\",children:\"Items\"}),char.items.map((item,itemIdx)=>{const selectedItem=itemOptions.find(opt=>opt.name===item);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mb-2 items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-[140px]\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"border p-2 rounded input-text\",value:item,onChange:e=>{setCharacters(prev=>{const updated=[...prev];updated[charIndex].items[itemIdx]=e.target.value;setCharacters(updated);return updated;});},children:itemOptions.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt.name,children:opt.name},opt.name))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 flex items-center justify-end w-full\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs mr-1\",children:\"Used\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:char.usedItems[itemIdx],onChange:e=>{const updatedCharacters=[...characters];const newUsedItems=[...char.usedItems];newUsedItems[itemIdx]=e.target.checked;updatedCharacters[charIndex].usedItems=newUsedItems;setCharacters(updatedCharacters);}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 description-text p-2 border rounded\",style:{height:'70px'},children:(selectedItem===null||selectedItem===void 0?void 0:selectedItem.description)||''})]},index);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-[1_1_27%]\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"block header-text mb-1\",children:\"Accessory\"}),/*#__PURE__*/_jsx(\"select\",{className:\"w-full border p-2 rounded input-text\",value:char.accessory,onChange:e=>{setCharacters(prev=>{const updated=[...prev];updated[charIndex].accessory=e.target.value;return updated;});},children:accessoryOptions.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt.name,children:opt.name},opt.name))}),/*#__PURE__*/_jsx(\"div\",{className:\"description-text mt-2 w-full border rounded p-2\",style:{height:'180px'},children:((_accessoryOptions$fin2=accessoryOptions.find(a=>a.name===char.accessory))===null||_accessoryOptions$fin2===void 0?void 0:_accessoryOptions$fin2.description)||''})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-end mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block header-text mb-1\",children:\"Injuries:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:char.injuries.map((val,i)=>/*#__PURE__*/_jsxs(\"select\",{className:\"border p-2 rounded input-text\",value:val,onChange:e=>{const updatedCharacters=[...characters];const updatedInjuries=[...char.injuries];updatedInjuries[i]=parseInt(e.target.value)||'';updatedCharacters[charIndex].injuries=updatedInjuries;setCharacters(updatedCharacters);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2014\"}),Array.from({length:20},(_,i)=>/*#__PURE__*/_jsx(\"option\",{value:i+1,children:i+1},i+1))]},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-[1_1_20%]\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block header-text mb-1\",children:\"Level:\"}),/*#__PURE__*/_jsx(\"select\",{value:char.level,onChange:e=>{setCharacters(prev=>{const updated=[...prev];updated[charIndex].level=parseInt(e.target.value);return updated;});},className:\"w-full text-center border rounded p-1\",children:[9,8,7,6,5,4,3,2,1,0].map(lvl=>/*#__PURE__*/_jsx(\"option\",{value:lvl,children:lvl},lvl))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-[1_1_25%]\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block header-text mb-1\",children:\"Cost:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full border p-2 rounded input-text bg-gray-100 text-right font-mono\",children:calculateCostForCharacter(char)})]})]})]},index);})})]}),/*#__PURE__*/_jsx(\"div\",{id:\"print-clone\",className:\"print-clone screen-hidden\",style:{position:\"left\",margin:\"0 auto\",width:\"100%\",padding:0,zIndex:1},children:Array.from({length:Math.ceil(characters.length/2)}).map((_,pairIndex)=>{const startIndex=pairIndex*2;return/*#__PURE__*/_jsxs(React.Fragment,{children:[pairIndex===1&&/*#__PURE__*/_jsx(\"div\",{className:\"force-page-break\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"print-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"character-pair\",children:[0,1].map(offset=>{var _armourOptions$find2,_accessoryOptions$fin3;const index=startIndex+offset;if(index>=characters.length)return null;const char=characters[index];const stats=char.stats;const modifiers=getModifiersForCharacter(char);return/*#__PURE__*/_jsxs(\"div\",{className:\"character-sheet-print relative p-4 w-[500px] border rounded shadow bg-white\",children:[modifiers._DEAD&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex flex-col items-center justify-center pointer-events-none\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl text-red-600 font-extrabold drop-shadow-lg\",children:\"DEAD\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-end\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex-1 header-text\",children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{className:\"block w-full border p-2 rounded mt-1 input-text\",value:char.name,onChange:e=>setCharacters(prev=>{const updated=[...prev];updated[charIndex].name=e.target.value;return updated;})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-text\",children:\"Move\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 border rounded text-center input-text\",children:calculateMoveForCharacter(char)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between gap-2 mt-2\",children:Object.keys(stats).map(key=>{const modifier=getModifiersForCharacter(char)[key]||0;return/*#__PURE__*/_jsxs(\"label\",{className:\"w-[90px] header-text\",children:[key,\":\",/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"block w-full border p-2 rounded text-center font-mono bg-white\",style:{pointerEvents:'none'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm input-text\",children:[char.stats[key],modifier!==0&&/*#__PURE__*/_jsx(\"span\",{className:`ml-1 ${modifier>0?'text-green-600':'text-red-600'}`,children:modifier>0?`+${modifier}`:modifier})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold leading-tight\",children:char.stats[key]+(modifier||0)})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"absolute inset-0 w-full h-full text-transparent caret-transparent bg-transparent border-none\",value:char.stats[key],onChange:e=>{setCharacters(prev=>{const updated=[...prev];const val=parseInt(e.target.value,10);updated[charIndex].stats[key]=isNaN(val)?0:Math.max(-10,Math.min(10,val));setCharacters(updated);return updated;});},min:\"-10\",max:\"10\",style:{WebkitAppearance:'number-input',MozAppearance:'number-input',appearance:'number-input'}})]})})]},key);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-start mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex-1 header-text\",children:[\"Primary Skill:\",/*#__PURE__*/_jsxs(\"select\",{className:\"block w-full border p-2 rounded input-text\",value:char.primarySkill,onChange:e=>{const updatedCharacters=[...characters];updatedCharacters[charIndex].primarySkill=e.target.value;setCharacters(updatedCharacters);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Skill\"}),skills.map(skill=>/*#__PURE__*/_jsx(\"option\",{value:skill.id,children:skill.name},skill.id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"description-text mt-1 w-full border rounded p-2\",style:{height:'165px'},children:getSkillDescription(char.primarySkill)||''})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex-1 header-text\",children:[\"Secondary Skill:\",/*#__PURE__*/_jsxs(\"select\",{className:\"block w-full border p-2 rounded input-text\",value:char.secondarySkill,onChange:e=>{const updatedCharacters=[...characters];updatedCharacters[charIndex].secondarySkill=e.target.value;setCharacters(updatedCharacters);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Skill\"}),skills.map(skill=>/*#__PURE__*/_jsx(\"option\",{value:skill.id,children:skill.name},skill.id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"description-text mt-1 w-full border rounded p-2\",style:{height:'165px'},children:getSkillDescription(char.secondarySkill)||''})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1/5\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"block mb-2 header-text\",children:[\"Armour:\",/*#__PURE__*/_jsx(\"select\",{className:\"block w-full border p-2 rounded mt-1 input-text\",value:char.armourType,onChange:e=>{const updatedCharacters=[...characters];updatedCharacters[charIndex].armourType=e.target.value;setCharacters(updatedCharacters);},children:armourOptions.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt.value,children:opt.label},opt.value))}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-center mt-1 font-bold\",children:[((_armourOptions$find2=armourOptions.find(a=>a.value===char.armourType))===null||_armourOptions$find2===void 0?void 0:_armourOptions$find2.armour)||0,getModifiersForCharacter(char).ARMOUR!==0&&/*#__PURE__*/_jsx(\"span\",{className:getModifiersForCharacter(char).ARMOUR>0?'text-green-600':'text-red-600',children:getModifiersForCharacter(char).ARMOUR>0?`+${getModifiersForCharacter(char).ARMOUR}`:getModifiersForCharacter(char).ARMOUR})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-0 mt-2\",children:[\"Right\",\"Left\"].map((hand,idx)=>{const weaponKey=hand===\"Right\"?\"weaponRight\":\"weaponLeft\";const upgradeKey=hand===\"Right\"?\"upgradeRight\":\"upgradeLeft\";const selected=char[weaponKey];const upgrade=char[upgradeKey];const weapon=weapons.find(w=>w.id.toString()===selected);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"block header-text\",children:[hand,\" Hand Weapon:\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"block header-text\",children:\"Upgrade:\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-start\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"w-[150px] border p-2 rounded input-text\",value:selected,onChange:e=>{setCharacters(prev=>{const updated=[...prev];updated[charIndex][weaponKey]=e.target.value;return updated;});},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Weapon\"}),weapons.map(w=>/*#__PURE__*/_jsx(\"option\",{value:w.id,children:w.name},w.id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 input-text border rounded p-2 whitespace-nowrap overflow-hidden text-ellipsis\",style:{height:'39px'},children:(weapon===null||weapon===void 0?void 0:weapon.description)||''}),/*#__PURE__*/_jsx(\"select\",{className:\"w-30 border p-2 rounded input-text\",value:upgrade,onChange:e=>{setCharacters(prev=>{const updated=[...prev];updated[charIndex][upgradeKey]=e.target.value;return updated;});},children:upgradeOptions.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt,children:opt},opt))})]})]},idx);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-[1_1_60%]\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"block header-text mb-1\",children:\"Items\"}),char.items.map((item,itemIdx)=>{const selectedItem=itemOptions.find(opt=>opt.name===item);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mb-2 items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-[140px]\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"border p-2 rounded input-text\",value:item,onChange:e=>{setCharacters(prev=>{const updated=[...prev];updated[charIndex].items[itemIdx]=e.target.value;setCharacters(updated);return updated;});},children:itemOptions.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt.name,children:opt.name},opt.name))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 flex items-center justify-end w-full\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs mr-1\",children:\"Used\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:char.usedItems[itemIdx],onChange:e=>{const updatedCharacters=[...characters];const newUsedItems=[...char.usedItems];newUsedItems[itemIdx]=e.target.checked;updatedCharacters[charIndex].usedItems=newUsedItems;setCharacters(updatedCharacters);}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 description-text p-2 border rounded\",style:{height:'70px'},children:(selectedItem===null||selectedItem===void 0?void 0:selectedItem.description)||''})]},index);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-[1_1_27%]\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"block header-text mb-1\",children:\"Accessory\"}),/*#__PURE__*/_jsx(\"select\",{className:\"w-full border p-2 rounded input-text\",value:char.accessory,onChange:e=>{setCharacters(prev=>{const updated=[...prev];updated[charIndex].accessory=e.target.value;return updated;});},children:accessoryOptions.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt.name,children:opt.name},opt.name))}),/*#__PURE__*/_jsx(\"div\",{className:\"description-text mt-2 w-full border rounded p-2\",style:{height:'180px'},children:((_accessoryOptions$fin3=accessoryOptions.find(a=>a.name===char.accessory))===null||_accessoryOptions$fin3===void 0?void 0:_accessoryOptions$fin3.description)||''})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-end mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block header-text mb-1\",children:\"Injuries:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:char.injuries.map((val,i)=>/*#__PURE__*/_jsxs(\"select\",{className:\"border p-2 rounded input-text\",value:val,onChange:e=>{const updatedCharacters=[...characters];const updatedInjuries=[...char.injuries];updatedInjuries[i]=parseInt(e.target.value)||'';updatedCharacters[charIndex].injuries=updatedInjuries;setCharacters(updatedCharacters);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2014\"}),Array.from({length:20},(_,i)=>/*#__PURE__*/_jsx(\"option\",{value:i+1,children:i+1},i+1))]},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-[1_1_20%]\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block header-text mb-1\",children:\"Level:\"}),/*#__PURE__*/_jsx(\"select\",{className:\"w-full border p-2 rounded input-text\",value:char.level,onChange:e=>{setCharacters(prev=>{const updated=[...prev];updated[index].level=parseInt(e.target.value);setCharacters(updated);return updated;});},children:Array.from({length:21},(_,i)=>/*#__PURE__*/_jsx(\"option\",{value:i,children:i},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-[1_1_25%]\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block header-text mb-1\",children:\"Cost:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full border p-2 rounded input-text bg-gray-100 text-right font-mono\",children:calculateCostForCharacter(char)})]})]})]},index);})}),pairIndex===0&&/*#__PURE__*/_jsx(\"div\",{className:\"brute-force-page-break\"})]})]},pairIndex);})}),\"    \"]});}","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","initialStats","STR","INT","DED","CHA","AGI","armourOptions","value","label","armour","agi","skills","id","name","description","modifiers","weapons","upgradeOptions","accessoryOptions","itemOptions","ARMOUR","gearCosts","CharacterSheet","_ref","character","calculateCostForCharacter","stats","className","children","level","primarySkill","secondarySkill","TeamOverview","_ref2","teamName","characters","teamCredits","teamNotes","totalTeamCost","map","char","i","App","characterScrollRef","canScrollLeft","setCanScrollLeft","canScrollRight","setCanScrollRight","el","current","handleScroll","scrollLeft","clientWidth","scrollWidth","addEventListener","window","removeEventListener","handleWheel","e","deltaY","preventDefault","scrollBy","left","behavior","passive","characterCount","index","setindex","setTeamName","setTeamCredits","setTeamNotes","_weapons$find","_weapons$find2","total","selectedArmour","find","a","armourType","armourLabel","weaponLeftName","w","toString","weaponLeft","weaponRightName","weaponRight","Object","entries","forEach","_ref3","cost","includes","upgradeLeft","upgradeRight","items","item","accessory","reduce","sum","setCharacters","Array","from","length","notes","usedItems","injuries","updateCharacter","field","prev","updated","activeCharacterIndex","isArray","updateStat","key","num","parseInt","clamped","Math","max","min","isNaN","setCost","getModifiersForCharacter","_skills$find","_skills$find2","_weapons$find3","_weapons$find4","_accessoryOptions$fin","primary","s","secondary","weaponL","weaponR","accMod","itemMods","itemName","idx","opt","injuryMod","isDead","val","acc","keys","armourMod","weaponMod","itemTotal","mod","_DEAD","totalArmourBonus","getSkillDescription","skill","calculateMoveForCharacter","baseAGI","modAGI","floor","src","alt","onChange","target","placeholder","type","Number","rows","onClick","print","data","blob","Blob","JSON","stringify","url","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","accept","_e$target$files","file","files","reader","FileReader","onload","event","parse","result","alert","err","readAsText","ref","style","overflowY","charIndex","_armourOptions$find","_accessoryOptions$fin2","modifier","pointerEvents","WebkitAppearance","MozAppearance","appearance","updatedCharacters","height","hand","weaponKey","upgradeKey","selected","upgrade","weapon","itemIdx","selectedItem","checked","newUsedItems","updatedInjuries","_","lvl","position","margin","width","padding","zIndex","ceil","pairIndex","startIndex","Fragment","offset","_armourOptions$find2","_accessoryOptions$fin3"],"sources":["C:/Users/tomwa/character_creator_03/src/App.jsx"],"sourcesContent":["import './styles.css';\nimport React, { useState, useRef, useEffect } from 'react'; \n\n\nconst initialStats = {\n  STR: 0,\n  INT: 0,\n  DED: 0,\n  CHA: 0,\n  AGI: 0\n};\n\n\nconst armourOptions = [\n  { value: 'none', label: 'None', armour: 0, agi: +2 },\n  { value: 'light', label: 'Light', armour: 2, agi: 0 },\n  { value: 'medium', label: 'Medium', armour: 4, agi: -2 },\n  { value: 'heavy', label: 'Heavy', armour: 8, agi: -4 }\n];\n\nconst skills = [\n  { id: 1, name: '1.Smelly', description: 'Gain a free action to make a model, not engaged, within 4 inches do a dedication test. if failed, instantly move that model a full move directly away from this model. -4 charm.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: -4, AGI: 0 } },\n  { id: 2, name: '2.Slippery', description: 'Model always succeeds on a Flee and has -4 to get hit in close combat. But due to bad friction,  -4 agility.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: -4 } },\n  { id: 3, name: '3.Scared', description: 'Weak nerves but fast! -4 dedication and +4 agility.', modifiers: { STR: 0, INT: 0, DED: -4, CHA: 0, AGI: 4 } },\n  { id: 4, name: '4.Thug', description: \"Swelling biceps but can't count or tie your shoelaces. +4 strength and -4 intelligence.\", modifiers: { STR: 4, INT: -4, DED: 0, CHA: 0, AGI: 0 } },\n  { id: 5, name: '5.Vampire', description: 'Each time this model kills, get +2 on all stats. After third kill, model goes frenzy. In Frenzy it must always move, or run, and fight the closest model in melee. Resets at the end of the scenario.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { id: 6, name: '6.Translucent', description: 'Other models get -4 to hit this model on ranged attacks. Also, this model always succeeds to hide. But due to trouble communicating, -8 charm.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: -8, AGI: 0 } },\n  { id: 7, name: '7.Leather face', description: 'Lack of sunscreen has made this model’s face impenetrable. Cannot do a flirt action, but gain +1 armour.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { id: 8, name: '8.Scissor hands', description: 'This model’s None/improvised attacks cannot be modified by opponents’ armour and power becomes 0 instead of normal penalty. But cannot equip or carry any weapon.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { id: 9, name: '9.Swindler', description: 'Player always gains double the money after scenario. But all money can only be spent on this model, and nothing can ever be traded. +2 charm and +2 intelligence.', modifiers: { STR: 0, INT: 4, DED: 0, CHA: 4, AGI: 0 } },\n  { id: 10, name: '10.Clumsy', description: 'When this skill is gained, roll immediately on the injury table. +4 charm.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 4, AGI: 0 } },\n  { id: 11, name: '11.Brainwashed', description: 'This model has seen the light. Immune to convince action, -4 intelligence and +4 dedication.', modifiers: { STR: 0, INT: -4, DED: 4, CHA: 0, AGI: 0 } },\n  { id: 12, name: '12.Bookworm', description: 'In theory, this model has seen many battles. +4 intelligence, but -2 to agility and -2 strength.', modifiers: { STR: -2, INT: 4, DED: 0, CHA: 0, AGI: -2 } },\n  { id: 13, name: '13.Sticky', description: 'Model can run up terrain without any movement penalty, but can never remove equipped weapons.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { id: 14, name: '14.Railed', description: 'Double movement! Must always move full in a straight line. If wanting to stop or turn, roll a dedication test. If failed, the model keeps going in the same direction and can only be stopped by structures or models over 2”.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { id: 15, name: '15.Infiltrator', description: 'Model can choose to start the scenario on the opponent’s side, but cannot start base to base with anyone. Roll a charm test. On a fail, the model has been found out and killed before the scenario started. Roll on the injury table.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { id: 16, name: '16.Zombie', description: 'If killed, roll injury but do not remove the model. It cannot activate the same round and gets play dead status. Then activates as normally the round after (Unless the injury roll was a 1). -8 on all stats.', modifiers: { STR: -8, INT: -8, DED: -8, CHA: -8, AGI: -8 } },\n  { id: 17, name: '17.Bland', description: 'Utterly boring! This model’s stats are now all zero. This is your new base; delete your values set at creation. Additional modifiers still apply.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { id: 18, name: '18.Radiant', description: 'Always succeed on flirt actions. Always fail on Hide actions. +4 charm.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 4, AGI: 0 } },\n  { id: 19, name: '19.Enraged', description: 'No penalty to dual wielding. But -4 to succeed with all rolls except kill rolls and can never flee. +4 strength.', modifiers: { STR: 4, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { id: 20, name: '20.The legend', description: 'If this model ever rolls a crit or fumble, thE character instantly disappears mysteriously (perma dead), before any action is carried out. +8 to all base stats.', modifiers: { STR: 8, INT: 8, DED: 8, CHA: 8, AGI: 8 } }\n];\n\n\nconst weapons = [\n  { id: 1, name: 'None melee', description: '[Ded]  Power -8', modifiers: { AGI: 0 } },\n  { id: 2, name: 'Light melee', description: '[Agi]  Power -2', modifiers: { AGI: 0 } },\n  { id: 3, name: 'Medium melee', description: '[Str]  Power +2', modifiers: { AGI: -2 } },\n  { id: 4, name: 'Heavy melee', description: '[Str]  Power +6', modifiers: { AGI: -4 } },\n  { id: 5, name: 'None ranged', description: '[Ded]  Power -8  Range: 6”', modifiers: { AGI: 0 } },\n  { id: 6, name: 'Short ranged', description: '[Agi]  Power -2  Range:12”', modifiers: { AGI: 0 } },\n  { id: 7, name: 'Medium ranged', description: '[Agi]  Power +2  Range:18”', modifiers: { AGI: -2 } },\n  { id: 8, name: 'Long ranged', description: '[Int]  power +4  Range:24”', modifiers: { AGI: -4 } },\n  { id: 9, name: 'Artillery', description: '[Int]  power +6  Range:30”', modifiers: { AGI: -8 } }\n];\n\nconst upgradeOptions = ['None', 'Fire', 'Lightning', 'Poison'];\n\nconst accessoryOptions = [\n  { name: 'None', description: '', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { name: 'Book of belief', description: 'If killed, roll a d20. on a 20: This tiny book was miraculously placed where the hit struck. The book is destroyed permanently, but the model is saved.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 4, AGI: 0 } },\n  { name: 'Nice hat', description: 'Dashing and stylish, +4 charm. Lost permanently if leaping, falling or pushed.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 4, AGI: 0 } },\n  { name: 'Ergonomic chair', description: 'Ugly but comfortable +4 intelligence, -4 agility and -4 charm. Cannot double move.', modifiers: { STR: 0, INT: +4, DED: 0, CHA: -4, AGI: -4 } },\n  { name: 'Glass eye', description: 'Can detect hidden figures. But in return get bad depth perception and -4 to hit on all shoot and fight rolls.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { name: 'Cool tattoo', description: 'a +4 dedication, but the vanity makes all flirt actions automatically succeed on this character.', modifiers: { STR: 0, INT: 0, DED: +4, CHA: 0, AGI: 0 } },\n  { name: 'Big buckle', description: \"a +4 strength, but -4 agility because you can't feel your legs.\", modifiers: { STR: +4, INT: 0, DED: 0, CHA: 0, AGI: -4 } },\n  { name: 'Stilts', description: 'model always move 3” in a straight line, regardless of move. but also counts all falls as extra +2”', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { name: '“New” underwear', description: 'a +1 dedication -1 charm. Sale now 75% reduced price. Only 10 credits!', modifiers: { STR: 0, INT: 0, DED: +1, CHA: -1, AGI: 0 } }\n];\n\n\nconst itemOptions = [\n  { name: 'None', description: '', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { name: 'Yeasty drink', description: '[Ded] +4 armour, but -4 intelligence.', modifiers: { STR: 0, INT: -4, DED: 0, CHA: 0, AGI: 0, ARMOUR: 4 } },\n  { name: 'Smell well water', description: '[Cha] +4 on charm rolls, unable to get the hidden.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 4, AGI: 0 } },\n  { name: 'Rabid stew', description: '[Ded]  +4 strength, but -4 charm and can never flee.', modifiers: { STR: 4, INT: 0, DED: 0, CHA: -4, AGI: 0 } },\n  { name: 'Never-stop pill', description: '[Ded] +2 to all stats but roll more injury on model (see in depth)', modifiers: { STR: 2, INT: 2, DED: 2, CHA: 2, AGI: 2 } },\n  { name: 'Teleporta bello', description: '[Int] teleport to any point seen within 20”. (see in depth)', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { name: 'Detox', description: '[Int] Remove the poison condition.', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { name: 'Eek ink', description: '[agi] target must pass a [ded] or blindly run away (see in depth)', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } },\n  { name: 'Airy Berry', description: '[Int] target becomes airborne until next activation (see in depth)', modifiers: { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 } }\n];\n\nconst gearCosts = {\n  'Book of belief': 40,\n  'Nice hat': 40,\n  'Ergonomic chair': 40,\n  'Glass eye': 40,\n  'Cool tattoo': 40,\n  'Big buckle': 40,\n  'Stilts': 40,\n  '“New” underwear': 10,\n  'Yeasty drink': 40,\n  'Smell well water': 40,\n  'Rabid stew': 40,\n  'Never-stop pill': 40,\n  'Teleporta bello': 40,\n  'Detox': 40,\n  'Eek ink': 40,\n  'Airy Berry': 40,\n  'Light': 20,\n  'Medium': 40,\n  'Heavy': 80,\n  'Light melee': 30,\n  'Medium melee': 40,\n  'Heavy melee': 50,\n  'Short ranged': 30,\n  'Medium ranged': 40,\n  'Long ranged': 50,\n  'Artillery': 80,\n  'Fire': 30,\n  'Lightning': 30,\n  'Poison': 30\n};\n\nconst CharacterSheet = ({ character, calculateCostForCharacter }) => {\n  const stats = character.stats;\n  return (\n    <div className=\"character-sheet-print\">\n      <h2>{character.name || \"Unnamed\"}</h2>\n      <p>Level: {character.level}</p>\n      <p>Cost: {calculateCostForCharacter(character)}</p>\n      <p>STR: {stats.STR}, INT: {stats.INT}, DED: {stats.DED}, CHA: {stats.CHA}, AGI: {stats.AGI}</p>\n      <p>Primary Skill: {character.primarySkill}</p>\n      <p>Secondary Skill: {character.secondarySkill}</p>\n      {/* Add more if needed */}\n    </div>\n  );\n};\n\nconst TeamOverview = ({ teamName, characters, teamCredits, teamNotes, calculateCostForCharacter, totalTeamCost }) => {\n  return (\n    <div className=\"team-overview-print border p-4 w-[260mm] max-w-[260mm]\">\n      <h2>Team: {teamName}</h2>\n      {characters.map((char, i) => (\n        <p key={i}>{char.name || `Character ${i + 1}`}: {calculateCostForCharacter(char)} pts</p>\n      ))}\n      <p>Total: {totalTeamCost()} / {teamCredits}</p>\n      <p>Remaining: {teamCredits - totalTeamCost()}</p>\n      <p>Notes: {teamNotes}</p>\n    </div>\n  );\n};\n\nexport default function App() {\n  const characterScrollRef = useRef(null);\nconst [canScrollLeft, setCanScrollLeft] = useState(false);\nconst [canScrollRight, setCanScrollRight] = useState(false);\n\n// Detect scroll availability\nuseEffect(() => {\n  const el = characterScrollRef.current;\n  if (!el) return;\n\n  const handleScroll = () => {\n    setCanScrollLeft(el.scrollLeft > 0);\n    setCanScrollRight(el.scrollLeft + el.clientWidth < el.scrollWidth);\n  };\n\n  handleScroll(); // run once on mount\n  el.addEventListener('scroll', handleScroll);\n  window.addEventListener('resize', handleScroll);\n  return () => {\n    el.removeEventListener('scroll', handleScroll);\n    window.removeEventListener('resize', handleScroll);\n  };\n}, []);\n\n// Enable mouse wheel horizontal scroll\nuseEffect(() => {\n  const el = characterScrollRef.current;\n  if (!el) return;\n\n  const handleWheel = (e) => {\n    if (e.deltaY !== 0) {\n      e.preventDefault();\n      el.scrollBy({ left: e.deltaY * 3, behavior: 'smooth' });\n\n    }\n  };\n\n  el.addEventListener('wheel', handleWheel, { passive: false });\n  return () => el.removeEventListener('wheel', handleWheel);\n}, []);\n\nconst characterCount = 4;\nconst [index, setindex] = useState(0);\nconst [teamName, setTeamName] = useState('');\nconst [teamCredits, setTeamCredits] = useState(500);\nconst [teamNotes, setTeamNotes] = useState('');\nconst calculateCostForCharacter = (char) => {\n  let total = 0;\n\n  const selectedArmour = armourOptions.find(a => a.value === char.armourType);\n  const armourLabel = selectedArmour?.label;\n  if (gearCosts[armourLabel]) total += gearCosts[armourLabel];\n\n  const weaponLeftName = weapons.find(w => w.id.toString() === char.weaponLeft)?.name || '';\n  const weaponRightName = weapons.find(w => w.id.toString() === char.weaponRight)?.name || '';\n  Object.entries(gearCosts).forEach(([label, cost]) => {\n    if (weaponLeftName.includes(label)) total += cost;\n    if (weaponRightName.includes(label)) total += cost;\n  });\n\n  if (gearCosts[char.upgradeLeft]) total += gearCosts[char.upgradeLeft];\n  if (gearCosts[char.upgradeRight]) total += gearCosts[char.upgradeRight];\n\n  char.items.forEach(item => {\n    if (gearCosts[item]) total += gearCosts[item];\n  });\n\n  if (gearCosts[char.accessory]) total += gearCosts[char.accessory];\n\n  return total;\n};\n\nconst totalTeamCost = () =>\n  characters.reduce((sum, char) => sum + calculateCostForCharacter(char), 0);\n\nconst [characters, setCharacters] = useState(Array.from({ length: characterCount }, () => ({\n  name: '',\n  stats: { ...initialStats },\n  primarySkill: '',\n  secondarySkill: '',\n  notes: '',\n  armourType: 'none',\n  weaponLeft: '',\n  weaponRight: '',\n  upgradeLeft: 'None',\n  upgradeRight: 'None',\n  items: ['', '', ''],\n  usedItems: [false, false, false],\n  accessory: '',\n  injuries: ['', '', '', '', ''],\n  level: 0\n})));\n\nconst updateCharacter = (field, value) => {\n  setCharacters((prev) => {\n    const updated = [...prev];\n    const character = { ...updated[activeCharacterIndex] };\n\n    if (typeof value === \"object\" && !Array.isArray(value)) {\n      // Merge objects (e.g., items, stats)\n      character[field] = {\n        ...character[field],\n        ...value,\n      };\n    } else {\n      // Direct field replacement\n      character[field] = value;\n    }\n\n    updated[activeCharacterIndex] = character;\n    return updated;\n  });\n};\n\nconst updateStat = (key, value) => {\n  const num = parseInt(value, 10);\n  const clamped = Math.max(-10, Math.min(10, isNaN(num) ? 0 : num));\n\n  setCharacters(prev => {\n    const updated = [...prev];\n    updated[index] = {\n      ...updated[index],\n      stats: {\n        ...updated[index].stats,\n        [key]: clamped\n      }\n    };\n    return updated;\n  });\n};\n\n  const [cost, setCost] = useState(0); // Placeholder for future logic\n  \n\n\n\n const getModifiersForCharacter = (character) => {\n  const primary = skills.find(s => s.id.toString() === character.primarySkill)?.modifiers || {};\n  const secondary = skills.find(s => s.id.toString() === character.secondarySkill)?.modifiers || {};\n  const weaponL = weapons.find(w => w.id.toString() === character.weaponLeft)?.modifiers || {};\n  const weaponR = weapons.find(w => w.id.toString() === character.weaponRight)?.modifiers || {};\n  const accMod = accessoryOptions.find(a => a.name === character.accessory)?.modifiers || {};\n  const itemMods = character.items.map((itemName, idx) => {\n    const item = itemOptions.find(opt => opt.name === itemName);\n    return character.usedItems[idx] ? item?.modifiers || {} : { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 };\n  });\n\n  const injuryMod = { STR: 0, INT: 0, DED: 0, CHA: 0, AGI: 0 };\n  let isDead = false;\n\n  character.injuries.forEach(val => {\n    if (!val) return;\n    if (val === 1) isDead = true;\n    else if (val >= 2 && val <= 5) injuryMod.AGI -= 1;\n    else if (val >= 6 && val <= 9) injuryMod.STR -= 1;\n    else if (val >= 10 && val <= 13) injuryMod.INT -= 1;\n    else if (val >= 14 && val <= 17) injuryMod.DED -= 1;\n    else if (val >= 18 && val <= 19) injuryMod.CHA -= 1;\n    else if (val === 20) injuryMod.CHA += 1;\n  });\n\n  const selectedArmour = armourOptions.find(a => a.value === character.armourType);\n\n  let acc = Object.keys(initialStats).reduce((acc, key) => {\n    const armourMod = key === 'AGI' ? selectedArmour?.agi || 0 : 0;\n    const weaponMod = key === 'AGI' ? (weaponL.AGI || 0) + (weaponR.AGI || 0) : 0;\n    const itemTotal = itemMods.reduce((sum, mod) => sum + (mod[key] || 0), 0);\n\n    acc[key] =\n      (primary[key] || 0) +\n      (secondary[key] || 0) +\n      armourMod +\n      weaponMod +\n      itemTotal +\n      (accMod[key] || 0) +\n      (injuryMod[key] || 0);\n\n    return acc;\n  }, isDead ? { _DEAD: true } : {});\n\n  const totalArmourBonus = itemMods.reduce((sum, mod) => sum + (mod.ARMOUR || 0), 0);\n  acc.ARMOUR = totalArmourBonus;\n\n  return acc;\n};\n\n  const getSkillDescription = (id) => {\n    const skill = skills.find(s => s.id.toString() === id);\n    return skill ? skill.description : '';\n  };\n\nconst calculateMoveForCharacter = (character) => {\n  const baseAGI = character.stats.AGI || 0;\n  const modAGI = getModifiersForCharacter(character).AGI || 0;\n  return 5 + Math.floor((baseAGI + modAGI) / 2);\n};\n\n\n\n// RENDER things below!\n\nreturn (\n  <div className=\"print-only-character-sheet flex h-screen overflow-hidden\">\n\n\n    {/* Left Column – Team Overview */}\n    \n    <div className=\"left-column w-[500px] p-4 border-r\">\n\n\n<div className=\"mt-auto \">\n  <img\n    src=\"/logoplaceholder.png\"\n    alt=\"Team Logo\"\n    className=\"w-full h-auto object-contain\"\n  />\n</div>\n\n\n\n\n\n\n      <div className=\"text-center font-bold mb-2\">Team Overview</div>\n\n      <input\n        className=\"w-full p-2 border rounded mb-2\"\n        value={teamName}\n        onChange={(e) => setTeamName(e.target.value)}\n        placeholder=\"Team Name\"\n      />\n\n      {characters.map((char, i) => (\n        <div key={i} className=\"flex justify-between items-center text-sm mb-1\">\n          <span>{char.name || `Character ${i + 1}`}</span>\n          <span>{calculateCostForCharacter(char)}</span>\n        </div>\n      ))}\n\n<div className=\"mt-2 flex justify-end items-center gap-2 text-sm\">\n  <span className=\"font-bold\">Credits</span>\n  <input\n    className=\"p-1 border rounded w-20 text-right\"\n    type=\"number\"\n    value={teamCredits}\n    onChange={(e) => setTeamCredits(Number(e.target.value))}\n  />\n  <span className=\"font-bold\">Unspent</span>\n  <span className=\"px-2 py-1 border rounded bg-white text-right w-16\">\n    {teamCredits - totalTeamCost()}\n  </span>\n</div>\n\n\n\n      <textarea\n        className=\"w-full h-[310px] mt-2 p-2 border rounded\"\n        rows=\"4\"\n        placeholder=\"Notes...\"\n        value={teamNotes}\n        onChange={(e) => setTeamNotes(e.target.value)}\n      />\n\n      <button\n  className=\"mt-4 w-full bg-red-300 header-text py-3 rounded shadow\"\n  onClick={() => window.print()}\n>\n  Print Team\n</button>\n\n<button\n  className=\"mt-2 w-full bg-yellow-300 header-text py-3 rounded shadow\"\n  onClick={() => {\n    const data = {\n      teamName,\n      teamCredits,\n      teamNotes,\n      characters\n    };\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${teamName || 'my_team'}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  }}\n>\n  Download Team\n</button>\n\n\n<label className=\"mt-2 w-full bg-orange-300 header-text py-3 rounded shadow text-center cursor-pointer block\">\n  Load Team\n  <input\n    type=\"file\"\n    accept=\".json\"\n    onChange={(e) => {\n      const file = e.target.files?.[0];\n      if (!file) return;\n\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        try {\n          const data = JSON.parse(event.target.result);\n          if (\n            typeof data.teamName === 'string' &&\n            typeof data.teamCredits === 'number' &&\n            Array.isArray(data.characters)\n          ) {\n            setTeamName(data.teamName);\n            setTeamCredits(data.teamCredits);\n            setTeamNotes(data.teamNotes || '');\n            setCharacters(data.characters);\n          } else {\n            alert('Invalid team file');\n          }\n        } catch (err) {\n          alert('Could not load file');\n        }\n      };\n      reader.readAsText(file);\n    }}\n    className=\"hidden\"\n  />\n</label>\n\n\n\n\n\n    </div>\n\n\n\n\n\n\n\n\n\n\n    {/* Middle Column – Character Sheet */}\n<div\n  ref={characterScrollRef}\n  className=\"character-sheet-area flex-1 relative overflow-x-auto\"\n  style={{ overflowY: 'hidden' }}\n>\n\n{canScrollLeft && (\n  <button\n    onClick={() => characterScrollRef.current.scrollBy({ left: -2000, behavior: 'smooth' })}\n    className=\"fixed left-[510px] top-1/2 transform -translate-y-1/2 z-50 rounded-md p-2 bg-black hover:bg-black/50 transition\"\n  >\n    <span className=\"text-white text-2xl font-bold\">◄</span>\n  </button>\n)}\n{canScrollRight && (\n  <button\n    onClick={() => characterScrollRef.current.scrollBy({ left: 2000, behavior: 'smooth' })}\n    className=\"fixed right-4 top-1/2 transform -translate-y-1/2 z-50 rounded-md p-2 bg-black hover:bg-black/50 transition\"\n  >\n    <span className=\"text-white text-2xl font-bold\">►</span>\n  </button>\n)}\n\n\n\n  <div className=\"flex min-h-screen w-max gap-3 p-4\">\n    {characters.map((char, charIndex) => {\n  const stats = char.stats;\n  const modifiers = getModifiersForCharacter(char);\n\n      return (\n        <div key={index} className=\"character-sheet-print relative p-4 w-[500px] border rounded shadow bg-white flex-shrink-0\">\n{modifiers._DEAD && (\n  <div className=\"absolute inset-0 flex flex-col items-center justify-center pointer-events-none\">\n    <div className=\"text-6xl text-red-600 font-extrabold drop-shadow-lg\">\n      DEAD\n    </div>\n  </div>\n)}\n      <div className=\"flex gap-4 items-end\">\n        <label className=\"flex-1 header-text\">\n          Name:\n          <input\n            className=\"block w-full border p-2 rounded mt-1 input-text\"\n            value={char.name}\nonChange={(e) =>\n  setCharacters(prev => {\n    const updated = [...prev];\n    updated[charIndex].name = e.target.value;\n    return updated;\n  })\n}\n\n          />\n        </label>\n        <div className=\"flex-none\">\n          <div className=\"header-text\">Move</div>\n          <div className=\"p-2 border rounded text-center input-text\">\n            {calculateMoveForCharacter(char)}\n          </div>\n        </div>\n      </div>\n\n\n<div className=\"flex justify-between gap-2 mt-2\">\n  {Object.keys(stats).map((key) => {\n    const modifier = getModifiersForCharacter(char)[key] || 0;\n\n    return (\n      <label key={key} className=\"w-[90px] header-text\">\n        {key}:\n        <div className=\"relative\">\n  {/* Display combined value like 3+2 */}\n  <div className=\"relative\">\n  {/* Display value + modifier as background content (non-clickable) */}\n  <div\n  className=\"block w-full border p-2 rounded text-center font-mono bg-white\"\n  style={{ pointerEvents: 'none' }}\n>\n  <div className=\"text-sm input-text\">\n    {char.stats[key]}\n    {modifier !== 0 && (\n      <span className={`ml-1 ${modifier > 0 ? 'text-green-600' : 'text-red-600'}`}>\n        {modifier > 0 ? `+${modifier}` : modifier}\n      </span>\n    )}\n  </div>\n  <div className=\"text-3xl font-bold leading-tight\">\n{char.stats[key] + (modifier || 0)}\n\n  </div>\n</div>\n\n\n  {/* Transparent number input over it — arrows will still show */}\n<input\n  type=\"number\"\n  className=\"absolute inset-0 w-full h-full text-transparent caret-transparent bg-transparent border-none\"\n  value={char.stats[key]}\nonChange={(e) => {\n  setCharacters(prev => {\n  const updated = [...prev];\n  const val = parseInt(e.target.value, 10);\n  updated[charIndex].stats[key] = isNaN(val) ? 0 : Math.max(-10, Math.min(10, val));\n  setCharacters(updated);\n    return updated;\n});\n}}\n\n  min=\"-10\"\n  max=\"10\"\n  style={{\n    WebkitAppearance: 'number-input',\n    MozAppearance: 'number-input',\n    appearance: 'number-input',\n  }}\n/>\n\n\n</div>\n\n\n</div>\n\n      </label>\n    );\n  })}\n</div>\n\n\n      <div className=\"flex gap-4 items-start mt-2\">\n        <div className=\"flex-1\">\n          <div className=\"flex gap-2\">\n            <label className=\"flex-1 header-text\">\n\n\n\nPrimary Skill:\n              <select\n  className=\"block w-full border p-2 rounded input-text\"\n  value={char.primarySkill}\nonChange={(e) => {\n  const updatedCharacters = [...characters];\n  updatedCharacters[charIndex].primarySkill = e.target.value;\n  setCharacters(updatedCharacters);\n}}\n\n>\n\n                <option value=\"\">Select Skill</option>\n                {skills.map((skill) => (\n                  <option key={skill.id} value={skill.id}>{skill.name}</option>\n                ))}\n              </select>\n              <div className=\"description-text mt-1 w-full border rounded p-2\" style={{ height: '165px' }}>\n{getSkillDescription(char.primarySkill) || ''}\n\n</div>\n            </label>\n\n            <label className=\"flex-1 header-text\">\n\n\nSecondary Skill:\n<select\n  className=\"block w-full border p-2 rounded input-text\"\n  value={char.secondarySkill}\nonChange={(e) => {\n  const updatedCharacters = [...characters];\n  updatedCharacters[charIndex].secondarySkill = e.target.value;\n  setCharacters(updatedCharacters);\n}}\n\n>\n\n                <option value=\"\">Select Skill</option>\n                {skills.map((skill) => (\n                  <option key={skill.id} value={skill.id}>{skill.name}</option>\n                ))}\n              </select>\n              <div className=\"description-text mt-1 w-full border rounded p-2\" style={{ height: '165px' }}>\n{getSkillDescription(char.secondarySkill) || ''}\n\n</div>\n\n            </label>\n          </div>\n        </div>\n\n        <div className=\"w-1/5\">\n          <label className=\"block mb-2 header-text\">\n\n            \nArmour:\n            <select\n  className=\"block w-full border p-2 rounded mt-1 input-text\"\n  value={char.armourType}\nonChange={(e) => {\n  const updatedCharacters = [...characters];\n  updatedCharacters[charIndex].armourType = e.target.value;\n  setCharacters(updatedCharacters);\n}}\n\n>\n\n              {armourOptions.map(opt => (\n                <option key={opt.value} value={opt.value}>{opt.label}</option>\n              ))}\n            </select>\n            <div className=\"text-sm text-center mt-1 font-bold\">\n{(armourOptions.find(a => a.value === char.armourType)?.armour || 0)}\n{getModifiersForCharacter(char).ARMOUR !== 0 && (\n  <span className={getModifiersForCharacter(char).ARMOUR > 0 ? 'text-green-600' : 'text-red-600'}>\n    {getModifiersForCharacter(char).ARMOUR > 0 ? `+${getModifiersForCharacter(char).ARMOUR}` : getModifiersForCharacter(char).ARMOUR}\n  </span>\n)}\n\n</div>\n\n          </label>\n        </div>\n      </div>\n\n\n<div className=\"flex flex-col gap-0 mt-2\">\n  {[\"Right\", \"Left\"].map((hand, idx) => {\n    const weaponKey = hand === \"Right\" ? \"weaponRight\" : \"weaponLeft\";\n    const upgradeKey = hand === \"Right\" ? \"upgradeRight\" : \"upgradeLeft\";\n    const selected = char[weaponKey];\n    const upgrade = char[upgradeKey];\n    const weapon = weapons.find(w => w.id.toString() === selected);\n\n    return (\n      <div key={idx}>\n        <div className=\"flex justify-between items-center\">\n          <span className=\"block header-text\">{hand} Hand Weapon:</span>\n          <span className=\"block header-text\">Upgrade:</span>\n        </div>\n\n        <div className=\"flex gap-4 items-start\">\n          {/* Weapon dropdown */}\n          <select\n            className=\"w-[150px] border p-2 rounded input-text\"\n            value={selected}\n            onChange={(e) => {\nsetCharacters(prev => {\n  const updated = [...prev];\n  updated[charIndex][weaponKey] = e.target.value;\n  return updated;\n});\n\n            }}\n          >\n            <option value=\"\">Select Weapon</option>\n            {weapons.map((w) => (\n              <option key={w.id} value={w.id}>{w.name}</option>\n            ))}\n          </select>\n\n          {/* Description */}\n          <div className=\"flex-1 input-text border rounded p-2 whitespace-nowrap overflow-hidden text-ellipsis\" style={{ height: '39px' }}>\n            {weapon?.description || ''}\n          </div>\n\n          {/* Upgrade dropdown */}\n          <select\n            className=\"w-30 border p-2 rounded input-text\"\n            value={upgrade}\n            onChange={(e) => {\nsetCharacters(prev => {\n  const updated = [...prev];\n  updated[charIndex][upgradeKey] = e.target.value;\n  return updated;\n});\n\n            }}\n          >\n            {upgradeOptions.map(opt => (\n              <option key={opt} value={opt}>{opt}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n    );\n  })}\n</div>\n\n\n\n<div className=\"flex gap-4 mt-2\">\n\n  \n  {/* Items container */}\n  <div className=\"flex-[1_1_60%]\">\n    <h3 className=\"block header-text mb-1\">Items</h3>\n{char.items.map((item, itemIdx) => {\n  const selectedItem = itemOptions.find(opt => opt.name === item);\n  return (\n    <div key={index} className=\"flex gap-2 mb-2 items-start\">\n      <div className=\"flex flex-col w-[140px]\">\n        <select\n          className=\"border p-2 rounded input-text\"\n          value={item}\n          onChange={(e) => {\n            setCharacters(prev => {\n  const updated = [...prev];\n            updated[charIndex].items[itemIdx] = e.target.value;            setCharacters(updated);\n              return updated;\n});\n          }}\n        >\n          {itemOptions.map((opt) => (\n            <option key={opt.name} value={opt.name}>{opt.name}</option>\n          ))}\n        </select>\n\n        <div className=\"mt-1 flex items-center justify-end w-full\">\n          <span className=\"text-xs mr-1\">Used</span>\n<input\n  type=\"checkbox\"\n  checked={char.usedItems[itemIdx]}\n  onChange={(e) => {\n    const updatedCharacters = [...characters];\n    const newUsedItems = [...char.usedItems];\n    newUsedItems[itemIdx] = e.target.checked;\n    updatedCharacters[charIndex].usedItems = newUsedItems;\n    setCharacters(updatedCharacters);\n  }}\n/>\n\n\n        </div>\n      </div>\n\n      <div className=\"flex-1 description-text p-2 border rounded\" style={{ height: '70px' }}>\n        {selectedItem?.description || ''}\n      </div>\n    </div>\n  );\n})}\n\n\n  </div>\n\n  {/* Accessory container (narrower) */}\n<div className=\"flex-[1_1_27%]\">\n  <h3 className=\"block header-text mb-1\">Accessory</h3>\n  <select\n    className=\"w-full border p-2 rounded input-text\"\n    value={char.accessory}\n    onChange={(e) => {\nsetCharacters(prev => {\n  const updated = [...prev];\n  updated[charIndex].accessory = e.target.value;\n  return updated;\n});\n\n}}\n\n  >\n    {accessoryOptions.map((opt) => (\n      <option key={opt.name} value={opt.name}>{opt.name}</option>\n    ))}\n  </select>\n\n  <div className=\"description-text mt-2 w-full border rounded p-2\" style={{ height: '180px' }}>\n    {\n      accessoryOptions.find(a => a.name === char.accessory)?.description || ''\n    }\n  </div>\n</div>\n\n\n</div>\n\n<div className=\"flex gap-4 items-end mt-2\">\n\n\n  {/* Injuries */}\n  <div className=\"flex flex-col\">\n  <label className=\"block header-text mb-1\">Injuries:</label>\n  <div className=\"flex gap-2\">\n{char.injuries.map((val, i) => (\n  <select\n    key={i}\n    className=\"border p-2 rounded input-text\"\n    value={val}\n    onChange={(e) => {\n      const updatedCharacters = [...characters];\nconst updatedInjuries = [...char.injuries];\nupdatedInjuries[i] = parseInt(e.target.value) || '';\nupdatedCharacters[charIndex].injuries = updatedInjuries;\nsetCharacters(updatedCharacters);\n\n    }}\n  >\n\n    <option value=\"\">—</option>\n    {Array.from({ length: 20 }, (_, i) => (\n      <option key={i + 1} value={i + 1}>{i + 1}</option>\n    ))}\n  </select>\n))}\n\n  </div>\n</div>\n\n  {/* Level */}\n  <div className=\"flex-[1_1_20%]\">\n    <label className=\"block header-text mb-1\">Level:</label>\n<select\n  value={char.level}\n  onChange={(e) => {\n    setCharacters(prev => {\n      const updated = [...prev];\n      updated[charIndex].level = parseInt(e.target.value);\n      return updated;\n    });\n  }}\n  className=\"w-full text-center border rounded p-1\"\n>\n  {[9, 8, 7, 6, 5, 4, 3, 2, 1, 0].map((lvl) => (\n    <option key={lvl} value={lvl}>\n      {lvl}\n    </option>\n  ))}\n</select>\n\n\n\n  </div>\n\n  {/* Cost */}\n  <div className=\"flex-[1_1_25%]\">\n  <label className=\"block header-text mb-1\">Cost:</label>\n  <div className=\"w-full border p-2 rounded input-text bg-gray-100 text-right font-mono\">\n{calculateCostForCharacter(char)}\n\n  </div>\n</div>\n</div>\n</div>\n      );\n    })}\n  </div>\n</div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{/* Printable static version of all 4 characters */}\n<div\n  id=\"print-clone\"\n  className=\"print-clone screen-hidden\"\n  style={{\n    position: \"left\",\n    margin: \"0 auto\",\n    width: \"100%\",\n    padding: 0,\n    zIndex: 1\n  }}\n>\n  {Array.from({ length: Math.ceil(characters.length / 2) }).map((_, pairIndex) => {\n    const startIndex = pairIndex * 2;\nreturn (\n    <React.Fragment key={pairIndex}>\n      {/* ⬇️ This triggers a new page before the second pair */}\n      {pairIndex === 1 && (\n        <div className=\"force-page-break\" />\n      )}\n\n    <div className=\"print-page\">\n      <div className=\"character-pair\">\n        {[0, 1].map((offset) => {\n\n\n          const index = startIndex + offset;\n          if (index >= characters.length) return null;\n          const char = characters[index];\n\n\n          const stats = char.stats;\n          const modifiers = getModifiersForCharacter(char);\n\n          return (\n            <div\n              key={index} className=\"character-sheet-print relative p-4 w-[500px] border rounded shadow bg-white\">\n{modifiers._DEAD && (\n  <div className=\"absolute inset-0 flex flex-col items-center justify-center pointer-events-none\">\n    <div className=\"text-6xl text-red-600 font-extrabold drop-shadow-lg\">\n      DEAD\n    </div>\n  </div>\n)}\n\n      <div className=\"flex gap-4 items-end\">\n        <label className=\"flex-1 header-text\">\n          Name:\n          <input\n            className=\"block w-full border p-2 rounded mt-1 input-text\"\n            value={char.name}\nonChange={(e) =>\n  setCharacters(prev => {\n    const updated = [...prev];\n    updated[charIndex].name = e.target.value;\n    return updated;\n  })\n}\n\n          />\n        </label>\n        <div className=\"flex-none\">\n          <div className=\"header-text\">Move</div>\n          <div className=\"p-2 border rounded text-center input-text\">\n            {calculateMoveForCharacter(char)}\n          </div>\n        </div>\n      </div>\n\n\n<div className=\"flex justify-between gap-2 mt-2\">\n  {Object.keys(stats).map((key) => {\n    const modifier = getModifiersForCharacter(char)[key] || 0;\n\n    return (\n      <label key={key} className=\"w-[90px] header-text\">\n        {key}:\n        <div className=\"relative\">\n  {/* Display combined value like 3+2 */}\n  <div className=\"relative\">\n  {/* Display value + modifier as background content (non-clickable) */}\n  <div\n  className=\"block w-full border p-2 rounded text-center font-mono bg-white\"\n  style={{ pointerEvents: 'none' }}\n>\n  <div className=\"text-sm input-text\">\n    {char.stats[key]}\n    {modifier !== 0 && (\n      <span className={`ml-1 ${modifier > 0 ? 'text-green-600' : 'text-red-600'}`}>\n        {modifier > 0 ? `+${modifier}` : modifier}\n      </span>\n    )}\n  </div>\n  <div className=\"text-3xl font-bold leading-tight\">\n{char.stats[key] + (modifier || 0)}\n\n  </div>\n</div>\n\n\n  {/* Transparent number input over it — arrows will still show */}\n<input\n  type=\"number\"\n  className=\"absolute inset-0 w-full h-full text-transparent caret-transparent bg-transparent border-none\"\n  value={char.stats[key]}\nonChange={(e) => {\n  setCharacters(prev => {\n  const updated = [...prev];\n  const val = parseInt(e.target.value, 10);\n  updated[charIndex].stats[key] = isNaN(val) ? 0 : Math.max(-10, Math.min(10, val));\n  setCharacters(updated);\n    return updated;\n});\n}}\n\n  min=\"-10\"\n  max=\"10\"\n  style={{\n    WebkitAppearance: 'number-input',\n    MozAppearance: 'number-input',\n    appearance: 'number-input',\n  }}\n/>\n\n\n</div>\n\n\n</div>\n\n      </label>\n    );\n  })}\n</div>\n\n\n      <div className=\"flex gap-4 items-start mt-2\">\n        <div className=\"flex-1\">\n          <div className=\"flex gap-2\">\n            <label className=\"flex-1 header-text\">\n\n\n\nPrimary Skill:\n              <select\n  className=\"block w-full border p-2 rounded input-text\"\n  value={char.primarySkill}\nonChange={(e) => {\n  const updatedCharacters = [...characters];\n  updatedCharacters[charIndex].primarySkill = e.target.value;\n  setCharacters(updatedCharacters);\n}}\n\n>\n\n                <option value=\"\">Select Skill</option>\n                {skills.map((skill) => (\n                  <option key={skill.id} value={skill.id}>{skill.name}</option>\n                ))}\n              </select>\n              <div className=\"description-text mt-1 w-full border rounded p-2\" style={{ height: '165px' }}>\n{getSkillDescription(char.primarySkill) || ''}\n\n</div>\n            </label>\n\n            <label className=\"flex-1 header-text\">\n\n\nSecondary Skill:\n<select\n  className=\"block w-full border p-2 rounded input-text\"\n  value={char.secondarySkill}\nonChange={(e) => {\n  const updatedCharacters = [...characters];\n  updatedCharacters[charIndex].secondarySkill = e.target.value;\n  setCharacters(updatedCharacters);\n}}\n\n>\n\n                <option value=\"\">Select Skill</option>\n                {skills.map((skill) => (\n                  <option key={skill.id} value={skill.id}>{skill.name}</option>\n                ))}\n              </select>\n              <div className=\"description-text mt-1 w-full border rounded p-2\" style={{ height: '165px' }}>\n{getSkillDescription(char.secondarySkill) || ''}\n\n</div>\n\n            </label>\n          </div>\n        </div>\n\n        <div className=\"w-1/5\">\n          <label className=\"block mb-2 header-text\">\n\n            \nArmour:\n            <select\n  className=\"block w-full border p-2 rounded mt-1 input-text\"\n  value={char.armourType}\nonChange={(e) => {\n  const updatedCharacters = [...characters];\n  updatedCharacters[charIndex].armourType = e.target.value;\n  setCharacters(updatedCharacters);\n}}\n\n>\n\n              {armourOptions.map(opt => (\n                <option key={opt.value} value={opt.value}>{opt.label}</option>\n              ))}\n            </select>\n            <div className=\"text-sm text-center mt-1 font-bold\">\n{(armourOptions.find(a => a.value === char.armourType)?.armour || 0)}\n{getModifiersForCharacter(char).ARMOUR !== 0 && (\n  <span className={getModifiersForCharacter(char).ARMOUR > 0 ? 'text-green-600' : 'text-red-600'}>\n    {getModifiersForCharacter(char).ARMOUR > 0 ? `+${getModifiersForCharacter(char).ARMOUR}` : getModifiersForCharacter(char).ARMOUR}\n  </span>\n)}\n\n</div>\n\n          </label>\n        </div>\n      </div>\n\n\n<div className=\"flex flex-col gap-0 mt-2\">\n  {[\"Right\", \"Left\"].map((hand, idx) => {\n    const weaponKey = hand === \"Right\" ? \"weaponRight\" : \"weaponLeft\";\n    const upgradeKey = hand === \"Right\" ? \"upgradeRight\" : \"upgradeLeft\";\n    const selected = char[weaponKey];\n    const upgrade = char[upgradeKey];\n    const weapon = weapons.find(w => w.id.toString() === selected);\n\n    return (\n      <div key={idx}>\n        <div className=\"flex justify-between items-center\">\n          <span className=\"block header-text\">{hand} Hand Weapon:</span>\n          <span className=\"block header-text\">Upgrade:</span>\n        </div>\n\n        <div className=\"flex gap-4 items-start\">\n          {/* Weapon dropdown */}\n          <select\n            className=\"w-[150px] border p-2 rounded input-text\"\n            value={selected}\n            onChange={(e) => {\nsetCharacters(prev => {\n  const updated = [...prev];\n  updated[charIndex][weaponKey] = e.target.value;\n  return updated;\n});\n\n            }}\n          >\n            <option value=\"\">Select Weapon</option>\n            {weapons.map((w) => (\n              <option key={w.id} value={w.id}>{w.name}</option>\n            ))}\n          </select>\n\n          {/* Description */}\n          <div className=\"flex-1 input-text border rounded p-2 whitespace-nowrap overflow-hidden text-ellipsis\" style={{ height: '39px' }}>\n            {weapon?.description || ''}\n          </div>\n\n          {/* Upgrade dropdown */}\n          <select\n            className=\"w-30 border p-2 rounded input-text\"\n            value={upgrade}\n            onChange={(e) => {\nsetCharacters(prev => {\n  const updated = [...prev];\n  updated[charIndex][upgradeKey] = e.target.value;\n  return updated;\n});\n\n            }}\n          >\n            {upgradeOptions.map(opt => (\n              <option key={opt} value={opt}>{opt}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n    );\n  })}\n</div>\n\n\n\n<div className=\"flex gap-4 mt-2\">\n\n  \n  {/* Items container */}\n  <div className=\"flex-[1_1_60%]\">\n    <h3 className=\"block header-text mb-1\">Items</h3>\n{char.items.map((item, itemIdx) => {\n  const selectedItem = itemOptions.find(opt => opt.name === item);\n  return (\n    <div key={index} className=\"flex gap-2 mb-2 items-start\">\n      <div className=\"flex flex-col w-[140px]\">\n        <select\n          className=\"border p-2 rounded input-text\"\n          value={item}\n          onChange={(e) => {\n            setCharacters(prev => {\n  const updated = [...prev];\n            updated[charIndex].items[itemIdx] = e.target.value;            setCharacters(updated);\n              return updated;\n});\n          }}\n        >\n          {itemOptions.map((opt) => (\n            <option key={opt.name} value={opt.name}>{opt.name}</option>\n          ))}\n        </select>\n\n        <div className=\"mt-1 flex items-center justify-end w-full\">\n          <span className=\"text-xs mr-1\">Used</span>\n<input\n  type=\"checkbox\"\n  checked={char.usedItems[itemIdx]}\n  onChange={(e) => {\n    const updatedCharacters = [...characters];\n    const newUsedItems = [...char.usedItems];\n    newUsedItems[itemIdx] = e.target.checked;\n    updatedCharacters[charIndex].usedItems = newUsedItems;\n    setCharacters(updatedCharacters);\n  }}\n/>\n\n\n        </div>\n      </div>\n\n      <div className=\"flex-1 description-text p-2 border rounded\" style={{ height: '70px' }}>\n        {selectedItem?.description || ''}\n      </div>\n    </div>\n  );\n})}\n\n\n  </div>\n\n  {/* Accessory container (narrower) */}\n<div className=\"flex-[1_1_27%]\">\n  <h3 className=\"block header-text mb-1\">Accessory</h3>\n  <select\n    className=\"w-full border p-2 rounded input-text\"\n    value={char.accessory}\n    onChange={(e) => {\nsetCharacters(prev => {\n  const updated = [...prev];\n  updated[charIndex].accessory = e.target.value;\n  return updated;\n});\n\n}}\n\n  >\n    {accessoryOptions.map((opt) => (\n      <option key={opt.name} value={opt.name}>{opt.name}</option>\n    ))}\n  </select>\n\n  <div className=\"description-text mt-2 w-full border rounded p-2\" style={{ height: '180px' }}>\n    {\n      accessoryOptions.find(a => a.name === char.accessory)?.description || ''\n    }\n  </div>\n</div>\n\n\n</div>\n\n<div className=\"flex gap-4 items-end mt-2\">\n\n\n  {/* Injuries */}\n  <div className=\"flex flex-col\">\n  <label className=\"block header-text mb-1\">Injuries:</label>\n  <div className=\"flex gap-2\">\n{char.injuries.map((val, i) => (\n  <select\n    key={i}\n    className=\"border p-2 rounded input-text\"\n    value={val}\n    onChange={(e) => {\n      const updatedCharacters = [...characters];\nconst updatedInjuries = [...char.injuries];\nupdatedInjuries[i] = parseInt(e.target.value) || '';\nupdatedCharacters[charIndex].injuries = updatedInjuries;\nsetCharacters(updatedCharacters);\n\n    }}\n  >\n\n    <option value=\"\">—</option>\n    {Array.from({ length: 20 }, (_, i) => (\n      <option key={i + 1} value={i + 1}>{i + 1}</option>\n    ))}\n  </select>\n))}\n\n  </div>\n</div>\n\n  {/* Level */}\n  <div className=\"flex-[1_1_20%]\">\n    <label className=\"block header-text mb-1\">Level:</label>\n<select\n  className=\"w-full border p-2 rounded input-text\"\n  value={char.level}\nonChange={(e) => {\n  setCharacters(prev => {\n  const updated = [...prev];\n  updated[index].level = parseInt(e.target.value);\n  setCharacters(updated);\n    return updated;\n});\n}}\n\n>\n  {Array.from({ length: 21 }, (_, i) => (\n    <option key={i} value={i}>{i}</option>\n  ))}\n</select>\n\n\n  </div>\n\n  {/* Cost */}\n  <div className=\"flex-[1_1_25%]\">\n  <label className=\"block header-text mb-1\">Cost:</label>\n  <div className=\"w-full border p-2 rounded input-text bg-gray-100 text-right font-mono\">\n{calculateCostForCharacter(char)}\n\n  </div>\n</div>\n</div>\n</div>\n      );\n    })}\n    </div> \n      {pairIndex === 0 && <div className=\"brute-force-page-break\" />}\n</div>\n   </React.Fragment> \n  ) \n\n\n  })} \n   </div>    </div>)}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}